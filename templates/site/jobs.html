
{% extends "base.html" %}
{% block content %}
<h1 class="text-2xl font-bold mb-4">Jobs {% if status %}<span class="text-sm text-gray-500">({{ status }})</span>{% endif %}</h1>
<div class="bg-white rounded shadow divide-y">
  {% for j in jobs %}
  <div class="p-4 flex items-center justify-between">
    <div>
      <div class="font-semibold">{{ j.title }}</div>
      <div class="text-sm text-gray-600">{{ j.company }} â€” {{ j.location or "" }}</div>
      <a class="text-blue-600 text-sm hover:underline" href="{{ j.link }}" target="_blank">Open</a>
    </div>
    <form action="/jobs/{{ j.id }}/status" method="post" class="flex gap-2">
      <select name="new_status" class="border rounded px-2 py-1">
        {% for s in ["new","applied","confirmed","skipped"] %}
          <option value="{{ s }}" {% if j.status==s %}selected{% endif %}>{{ s }}</option>
        {% endfor %}
      </select>
      <button class="px-3 py-1 bg-gray-900 text-white rounded">Save</button>
    </form>
  </div>
  {% else %}
  <div class="p-4 text-gray-500">No jobs found.</div>
  {% endfor %}
</div>
{% endblock %}
